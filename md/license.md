# ロボットシステム学第9回

上田 隆一

千葉工業大学

---

## 今日の内容

* ソフトウェアライセンス
  * 一部で著作権の話も
* クリエイティブ・コモンズ

---

## 注意

* 講師は素人
  * 細かい具体例に合法・非合法を言う立場ではない
  * ライセンスというものがあるよ、という程度<br />　
* 裁判にならないとはっきりしないことも多い


---

## 大学生と著作

* ブログやGitHub等で誰でも自身の著作物を公開する機会
  * 作文、コード、ロボットのデモムービー等
  * コミュニティーや同人活動への参加
    * こういうところでは、むしろ作品を公開しないと存在しない人扱いを受けるという勢い（いいか悪いかは別）

---

## インターネット上での活動

* インターネットはアバウトな部分と容赦ない部分が同居
  * 著作権やライセンスへの理解がないと生きていけない
  * あからさまに違反して反省もしないと大炎上
  * 悪徳ハッカソンに著作権を取られる等、被害にも遭う
  * 自身を売り出すためにはさらに深く理解が必要

---

## 著作物の流用

* ロボットを扱うときに使うオープンソース
  * ROSやOpenCV等、それらの上で動くもの
* オープンソースを使った自身の著作物やコードは公開していいの？売っていいの？
* そもそも何でオープンソースは公開されている？
  * Unixの話の時にした通り

---

## コードの公開

* コードを公開することによる恩恵（例: Unix）
  * 普及する
  * バグを第三者が見つけてくれる
  * 改良法を第三者が考えてくれる
* コードを公開する場合の困った点
  * 商売難しい
  * 誰のもの？
  * プログラマーの世界の外で理解が得られない
* コード公開の判断
  * <span style="color:red">工・法・商・歴史様々な視点が入り乱れる</span>

---

## [リチャード・ストールマン（RMS）](https://ja.wikipedia.org/wiki/%E3%83%AA%E3%83%81%E3%83%A3%E3%83%BC%E3%83%89%E3%83%BB%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%83%9E%E3%83%B3)<span style="font-size:50%">（CC BY-SA 3.0）</span>

* コードは公開されるべきという立場の急先鋒
* Emacs, GCC等の作者
  * 1971年〜MITの<span style="color:red">ハッカー</span>
    * ハッカー: 次ページで説明
  * 様々な逸話
    * 調べてみましょう（ここでは話せないことが多い）

---

## ハッカー

* 悪いことをする人ではない
    * 悪さをする連中はクラッカーと呼ばれる<br />　
* （技術的な定義は別として、文化的には）ヒッピー的な考え方を継承した腕のあるプログラマ
  * ヒッピー（1960年代〜）
    * love and peaceな人たち（[例](https://commons.wikimedia.org/wiki/File:Woodstock_redmond_hair.JPG)。CC-BY-SA 2.5）
      * ・・・と書くと平和そうだが、反戦、反体制、フリーダム、フリーセックス、マリファナ、LSD、ビートルズ、東洋思想、嫌儲厨な人たち
      * 日本にも暗い感じで輸入される（新宿駅でのシンナー遊びなど）
      *  <span style="color:red">（注意: いろいろ非合法）</span>
  * 現代のハッカーは半裸でバンダナではなく<span style="color:red">パーカーが一般的</span>
  * 「技術を独占するよりも広く共有して、皆で大いに楽しみたいとする奔放さ」
<span style="font-size:80%">（[ハッカー文化 | Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%8F%E3%83%83%E3%82%AB%E3%83%BC%E6%96%87%E5%8C%96)、 CC-BY-SA 3.0）</span>


---

## ハッカーの自衛

* 今も「ハッカー気質」の人は多い
  * 自分で作ったものは自由に使ってくれという立場だが・・・
  * <span style="color:red">こういう考えは他人に利用されやすい→自衛しないといけない</span><br />　
* 例
  * 自分で書いたコードの著作権を放棄→誰かが拾って「自分のものだ、お前ら使うな」と主張
  * 「お金にならなかったけど楽しかったからいいです」という学生を大人は利用（利用しない善人が絶滅）
    * ハッカソン主催者、ブラックインターン、マスコミ、そして教員
    * そりゃ君はいいかもしんないけど、社会が歪む原因になっている自覚はあるの？


---

## コピーレフト

<img width="10%" style="border:none" src="./md/images/Copyleft-300x300.png" />

* ストールマンが広めた概念
* 著作物は<span style="color:red">利用・再配布・改変できなければならない</span>
  * つまりフリーダムであるべき
  * Copyleft: all rights reversed
* <span style="color:red">ただし、著作権は放棄しない</span>
  * 放棄すると防衛が難しくなる

どうやって一見矛盾することを実現するか？

---

## <span style="text-transform:none">GPL<span style="font-size:80%">（GNU General Public License）</span></span>

<img width="20%" src="./md/images/512px-GPLv3_Logo.svg.png" /><span style="font-size:30%">パブリックドメイン</span>

* コピーレフトの考え方をライセンス化したもの
* ストールマンの立ち上げたFSF（Free Software Foundation）が策定<br />　
* その前にライセンス（利用許諾）とは
  * プログラムの作成者が利用者に使用させる際につける条件
  * 著作権ではない

---

## GPLの基本的なルール

* 真のルールはライセンスの本文
  * https://www.gnu.org/licenses/gpl-3.0.txt <br />　
* 要点
  * GPLで頒布されたプログラム（コードやバイナリ）について、ユーザは実行、再配布、改変、調査できる権利を保持
  * ただし、再頒布の際は再度GPLで頒布する義務
    * コードをわずかにコピペしても
  * バイナリのユーザが要求した場合にコードの公開義務
    * GPLライブラリを動的/静的リンクしてバイナリを配布してもGPL


---

## GPLの効果

* 人のコードを持ってきた人（企業・団体）が改変部分を隠してコピーを売ることを抑制
* ソフトウェアの特性を損なわない
  * 1人が作ればみんな使える。そこから改良できる。
* 誰がコードを書いたかという記録は残る<br />（残さないといけない）
  * 著作権は放棄されていない<br />　
* 怖い面もある
  * あとで説明

---

## <span style="text-transform:none">GPLの例: Linux</span>

* LinuxはGPL
  * 付属するコマンド等ソフトウェアやライブラリもGPL
    * grepなども（GNU Coreutils）
       * GNU: FSFの開発しているOS（GPL）
       * FSFはLinuxをGNU/Linuxと呼ぶべきと主張
    * デバイスドライバもGPL
       * Linuxのコードの大半はデバイスドライバ
  * ライセンスの矛盾を気にせず配布しやすい<br />　
* LinuxのデバイスドライバとGPL
  * デバイスドライバがGPL（と何かのデュアルライセンス）でないと警告が出る
  * GPLでないデバイスドライバはカーネルのデバッグ時の厄介者
    * カーネル本体かデバイスドライバのどっちにバグがあるか分からない
    * GPLでないデバイスドライバ: 某社のグラボのもの

---

## GPLと非GPLのものの混在

* ライセンス間の矛盾がないかどうかをチェック
  * 例: 非GPLライブラリを使って自身のコードをGPLでバイナリ配布
    * ライブラリのライセンスが非公開を前提にしていると、公開義務のあるGPLと矛盾
      * このような矛盾で束縛するのがライセンスの考え方
    * ライブラリのライセンスが公開を前提にしていると可能なこともある
      * 他の条項もGPLと矛盾がなければ<span style="color:red">GPL互換</span><br />　
* 「GPL汚染」
  * 反GPLの立場からの言葉
  * 配布するプログラムに知らないうちにGPLのコードがちょっと混ざった→コード全部にGPL適用
  * 個人なら他者への尊重の意識があれば怖くないが、上司や教員の立場としては怖い

---

## <span style="text-transform:none">LGPL<span style="font-size:60%">（GNU Lesser General Public License）</span></span>

<img width="30%" src="./md/images/512px-LGPLv3_Logo.svg.png" />

* GPLでないプログラムにリンクしてよいライセンス
  * リンクしたプログラムがGPL化しない
* 当初はGNU library general public licenseだった
  * ライブラリGPL → 劣GPL
* 主な利用例
  * GNU Cライブラリ, OpenOffice.org, ...



---

## GPLを適用する方法

* [正確な情報はこの文章から](https://www.gnu.org/licenses/gpl-howto.ja.html)
* ソフトウェアにCOPYING or LICENSEというファイル名でライセンス全文を同梱
  * GPLの場合、COPYINGが一般的
  * Gitならリポジトリのトップディレクトリに置く
* 各ソースファイルの頭にも書くのが望ましい
  * というより書く
  * copyrightとGPLである旨
* 例: https://github.com/emacs-mirror/emacs

---

## 考えてみましょう

* ロボカップで使ったコードをGPLで配布するとどうなる？
  * 他のチームに与える影響は？
* 企業でコードが使われるだろうか？
  * 企業と共同研究できる？
* ROSやOpenCVの何かと一緒に配布できる？
* LGPLだったら？

---

## BSD/BSDライセンス

* BSD（Barkeley software distribution）
  * UCBで開発されたUNIXの一種（1977年〜）
  * AT&T由来のコードを含む
  * ライセンスに関する様々な問題を回避しながら開発<br />　
* BSDライセンス
  * その名の通りBSDのためのライセンス
  * 企業との悲喜こもごもの中で生まれた
  * GPLとの違い
    * もともとGPL以前の話なので別のライセンス体系
    * <span style="color:red">コードの公開義務なし</span>

---

## 旧BSDライセンス<span style="font-size:80%">（4条項、廃止）</span>

* [正式なもの](https://ja.wikipedia.org/wiki/BSD%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9#.E6.97.A7BSD.E3.83.A9.E3.82.A4.E3.82.BB.E3.83.B3.E3.82.B9.E3.83.BB.E5.9B.9B.E6.9D.A1.E9.A0.85BSD.E3.83.A9.E3.82.A4.E3.82.BB.E3.83.B3.E3.82.B9)（CC BY-SA 3.0）
  * 書いてある条項
    * 1 コピーライト、ライセンス全文、免責事項の明記
    * 2 <span style="color:red">コードを公開せず</span>バイナリ配布する時も1を遵守
    * 3 貢献者・支援した団体等のリストを明記<span style="color:red">（宣伝条項）</span>
    * 4 貢献者の名前をソフトウェアの宣伝に勝手に使わない<br />　
* 宣伝条項がいろいろと問題
  * リスト巨大化
  * GPLのコードへBSDライセンスのコードを混ぜられない<span style="color:red">（つまり非互換）</span>
    * ストールマン「不快なBSD宣伝条項」（https://www.gnu.org/licenses/bsd.ja.html）

---

## その後の修正

* 宣伝条項の廃止
  * 修正BSDライセンス（[3条項BSDライセンス](https://ja.wikipedia.org/wiki/BSD%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9#.E4.BF.AE.E6.AD.A3BSD.E3.83.A9.E3.82.A4.E3.82.BB.E3.83.B3.E3.82.B9.E3.83.BB.E4.B8.89.E6.9D.A1.E9.A0.85BSD.E3.83.A9.E3.82.A4.E3.82.BB.E3.83.B3.E3.82.B9)）
    * <span style="color:red">OpenCV, ROS等で採用されている</span>
  * GPLと互換に
    * GPLのプロジェクトにROSのコードを混ぜてGPLで配布可能<br />　
* 4番目の条項のないものも整備
  * [2条項BSDライセンス](https://ja.wikipedia.org/wiki/BSD%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9#.E4.BA.8C.E6.9D.A1.E9.A0.85BSD.E3.83.A9.E3.82.A4.E3.82.BB.E3.83.B3.E3.82.B9)
    * FreeBSD等で採用<br />　
* 現在の*BSDとLinuxの競争はライセンスの話が深く関係 

---

## 非コピーレフトなライセンス

* BSDライセンス
* MITライセンス
  * BSDライセンスと似ている（似ているだけで別物）
  * [全文](https://opensource.org/licenses/mit-license.php)（CC-BY 4.0）
    * 著作権とライセンスの表示の義務づけ
    * 免責
* Apacheライセンス
  * 使用者に特許ライセンスも付与
  * ただし他を特許侵害で訴えるとライセンス剥奪

---

## <span style="text-transform:none">BSD/MIT/Apacheライセンスの<br />適用</span>

* ソフトウェアにライセンスの全文を同梱
  * LICENSEというファイル名が一般的
    * GPLのCOPYINGとは違う<br />　
* ドキュメントやコードに以下を明記
  * 著作権
  * ライセンスの種類


---

## {フリー,オープンソース}ソフトウェア

* 使い分けは慎重に
  * フリーソフトウェア
    * FSFの主張に沿った文脈で使う用語
      * コピーレフトやGPL周辺
  * オープンソースソフトウェア
    * open source initiativeという団体の主張に沿った文脈で使う用語
    * ビジネス寄り

---

## プロプライエタリソフトウェア/商用ライセンス

* プロプライエタリソフトウェア
  * 知的所有権が保持されて使用者が制限を受けるソフト
    * Microsoft社のOSやOfficeスイート
    * 例: nvidia社のデバイスドライバ
  * 利用者が再配布しなければLinux上で動かすのは問題ない
    * 再配布しないのでライセンスとは関係ない<br />　
* 商用ライセンス
  * 所有権者が決めるので様々
  * 通常は使用者がコードを見られないようになっている

---

## ライセンスの選択

* ソフトウェアのオリジナルな作者はライセンスを選べる
  * 同じものを別のライセンスで配布可能
    * 使用の許諾なので、使用者によって変えることが可能
  * 使用者に選ばせることも可能（=デュアルライセンス）
    * [MySQLの例](http://www.softagency.co.jp/products/mysql/license/)
      * 自分で追加したコードを隠したければ商用ライセンスを選択
  * 他のライセンスで守られているコードの使用があれば、その制限を受ける<br />　
* 何かをゼロから作ったら自身にとって最良の方法を

---

## [クリエイティブ・コモンズ](https://creativecommons.jp/)<br /><span style="font-size:50%">（↑リンク先: CC BY 4.0）</span>

* 以下を目的とした国際プロジェクト・非営利団体
  * 著作物を著作権を守りながら人に使ってもらえないか？
  * 「all rights reserved」以外の方法を模索
    * ソフトウェアライセンスと発想が同じだが、コードではないので守備範囲が違う<br />　
* 「クリエイティブ・コモンズ・ライセンス」を策定・管理
  * マーク、コモンズ証、リーガルコード、メタデータ等を提供
  * ライセンスではないが、パブリックドメインについてもCC0の策定

---

## [クリエイティブ・コモンズ・ライセンス](https://creativecommons.jp/licenses/)<span style="font-size:50%">（リンク先: CC BY 4.0）</span>

* 略してCCライセンス<br />　
* 以下の条件の組み合わせで著作者が発行
  * 表示（BY）
    * 著作権者の表示、ライセンスへのリンク、変更がある場合の説明
  * 継承 or 改変禁止 or 条件なし
    * 継承（ShareAlike、SA）: 改変時、貢献部分に同じライセンスを適用
    * 改変禁止（NoDerivs、ND）: 改変したものの頒布禁止
  * 非営利 or 条件なし
    * 非営利（NonCommercial、NC）: 営利目的利用の禁止

---

## 可能な組み合わせ

* 表示（BY）、継承（SA） or 改変禁止（ND）、非営利（NC）が互いに矛盾しないのは以下の6通り
  * CC BY
  * CC BY-SA, CC BY-ND,
  * CC BY-NC, CC BY-NC-SA, CC BY-NC-ND<br />　
* [CCのサイトで確認](https://creativecommons.jp/licenses/)（CC BY 4.0）

---

## CCライセンスの発行

* 手続き
  * 著作物にマークをつける
  * 「コモンズ証」へのリンク<br />　
* クラウドサービスにはプルダウンメニューで選べるようになっているものも
  * slideshare, GitHub等
  * GitHubはソフトウェアのライセンスも選べる
  * ソフトウェアの場合は免責事項の関係でソフトウェアのライセンスを

---

## 既存のソフトウェアや著作物の利用

* ライセンスや著作権の仕組みを理解して責任を持って積極的に
    * ROSやOpenCVを使いこなして、GitHubにライセンス表示して公開
    * レポートにCCの写真や絵を使用して必要なクレジットを書く
        * $\Rightarrow$どちらもゼロから作るより大幅に時短になるし、完成度も高くなる。<br />　
    * 大学では評価されないかもしれないが、企業に行くと重要に
      * 大学ではオリジナリティーの追求に価値があるので、利用の先が大切
      * 企業もそうだけど労働もしなければならない
        * 自分の人件費は高い。

---

## 既存のものを使わないことが適切なとき

* 勉強目的
  * アルゴリズムは読むより自分で書いてみたほうが理解が簡単<br />　
* オリジナリティーの追求
  * 既存のものと違うなにかを可能にする
    * オリジナリティーがないものは他人には無意味
    * デバドラの課題もそこを見てます
  * 研究活動と同じ<br />　
* ライセンスや費用、入手性の関係でやむなく

---

## レポート等での既存著作物の<br />再利用

* 今日の講義内容をもとに考えると、そんなに悪いこと？
  * ルールを守ればOK
  * ただ「先生がダメって言うから」という解釈は子供
    * 先生側もあまり分かってない場合がある<br />　
* NGな場合
  * 何の引用もなくコピペすると著作権の侵害・犯罪
  * 講義での課題の場合: 学習効果が確認できないと善悪関係なく0点
    * 何を期待されているか、ちゃんと考えましょう。<br />　
* 引用を用いる
  * 理系の場合は引用元の文をそのまま掲載する必要はほとんどない

---

## まとめ

* オープンソースのライセンス、CCライセンス
  * 作った人が著作権を保ったまま他の人が作った物を使う仕組み<br />　
* 積極的に使いこなす重要性はますます増している
  * 不可避と思いましょう
  * 車輪の再開発は趣味

---

## 課題

* 第7回のデバドラのリポジトリの整備
  * ライセンス関係の記述、ファイルの設置<br />　
* 他の講義でコードを公開しながらやっている場合もライセンスの確認を
